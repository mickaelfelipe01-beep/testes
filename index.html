<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Atividade ‚Äî Arquivos, Pastas e Organiza√ß√£o</title>

  <link rel="icon" type="image/png" href="https://mickaelfelipe01-beep.github.io/Atividades/aulas-informatica-alpha/imagens/Design%20sem%20nome%20(8).png">

  <style>
    :root{
      --primary:#2563eb;
      --success:#16a34a;
      --danger:#dc2626;
      --text:#0f172a;
      --muted:#64748b;
      --card-bg:rgba(255,255,255,.94);
      --radius:20px;
    }
    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family:'Segoe UI', Roboto, system-ui, -apple-system, sans-serif;
      background: radial-gradient(1200px 600px at 20% 10%, #e0f2fe 0%, transparent 60%),
                  radial-gradient(900px 600px at 90% 30%, #dbeafe 0%, transparent 60%),
                  linear-gradient(180deg, #f8fafc 0%, #eef2ff 100%);
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:flex-start;
      overflow-x:hidden;
    }

    .fall-layer{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:0;
    }
    .leaf{
      position:absolute;
      top:-60px;
      width:22px;
      height:22px;
      background-size:contain;
      background-repeat:no-repeat;
      opacity:.75;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.12));
      animation-name: fall, sway;
      animation-timing-function: linear, ease-in-out;
      animation-iteration-count: infinite, infinite;
      will-change: transform;
    }
    @keyframes fall{
      0%   { transform: translateY(-80px) rotate(0deg); }
      100% { transform: translateY(calc(100vh + 120px)) rotate(360deg); }
    }
    @keyframes sway{
      0%   { margin-left: 0px; }
      50%  { margin-left: 35px; }
      100% { margin-left: 0px; }
    }

    .wrap{
      width:100%;
      max-width:860px;
      padding:20px;
      position:relative;
      z-index:1;
    }

    .topbar{
      background:var(--card-bg);
      border-radius:var(--radius);
      padding:14px 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      box-shadow:0 10px 20px rgba(0,0,0,0.08);
      border:1px solid rgba(255,255,255,0.45);
    }

    .brand{
      display:flex;
      align-items:center;
      gap:14px;
    }
    .brand img{
      width:52px;
      height:52px;
      border-radius:14px;
    }
    .brand-text{
      display:flex;
      flex-direction:column;
      line-height:1.05;
    }
    .brand-title{
      font-weight:950;
      font-size:20px;
      color:#0b1220;
      letter-spacing:.2px;
    }
    .brand-tagline{
      font-weight:800;
      font-size:13px;
      color:var(--muted);
      margin-top:4px;
    }

    .card{
      background:var(--card-bg);
      backdrop-filter: blur(10px);
      border-radius:var(--radius);
      padding:28px;
      box-shadow:0 20px 40px rgba(0,0,0,0.14);
      border:1px solid rgba(255,255,255,0.35);
      margin-top:18px;
    }

    .h1{
      font-size:30px;
      font-weight:950;
      color:var(--text);
      margin:0 0 8px;
    }
    .sub{
      color:var(--muted);
      margin:0 0 18px;
      line-height:1.5;
    }

    .info-box{
      background:#eff6ff;
      border:1px solid #bfdbfe;
      border-radius:16px;
      padding:14px 14px;
      color:#1e3a8a;
      margin:14px 0 16px;
      font-weight:700;
      line-height:1.4;
    }
    .info-box small{
      display:block;
      font-weight:700;
      opacity:.85;
      margin-top:8px;
      color:#1e40af;
    }

    input#fullName{
      width:100%;
      padding:14px 14px;
      border-radius:14px;
      border:2px solid #e2e8f0;
      font-size:16px;
      margin:10px 0 12px;
      outline:none;
      background:#fff;
    }
    input#fullName:focus{
      border-color:#93c5fd;
      box-shadow:0 0 0 4px rgba(37,99,235,.10);
    }

    button{
      padding:12px 18px;
      border-radius:14px;
      border:none;
      font-weight:900;
      cursor:pointer;
      transition:.15s;
    }
    button:active{ transform: scale(0.99); }
    .btn-primary{ background:var(--primary); color:#fff; width:100%; }
    .btn-ghost{
      background:transparent;
      border:2px solid #cbd5e1;
      color:#0f172a;
      width:100%;
      margin-top:10px;
    }
    .btn-next{
      background:#0f172a;
      color:#fff;
      width:100%;
      margin-top:14px;
      display:none;
    }

    .quiz-head{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
    }
    #timer{
      font-weight:950;
      background:#0f172a;
      color:#fff;
      padding:8px 12px;
      border-radius:999px;
      letter-spacing:.5px;
      min-width:110px;
      text-align:center;
    }
    #progress{
      font-weight:850;
      color:var(--primary);
    }
    #qTitle{
      margin:16px 0 10px;
      color:#0b1220;
      font-size:22px;
      font-weight:950;
    }
    .opts{ display:grid; gap:12px; margin-top:12px; }
    .opt{
      padding:14px 14px;
      border:2px solid #e2e8f0;
      border-radius:16px;
      cursor:pointer;
      transition:.18s;
      background:#fff;
      display:flex;
      align-items:center;
      gap:12px;
      font-weight:800;
      color:#0b1220;
    }
    .opt:hover{ border-color:var(--primary); background:#eff6ff; }
    .opt.correct{ background:#dcfce7!important; border-color:var(--success)!important; color:#166534; }
    .opt.wrong{ background:#fee2e2!important; border-color:var(--danger)!important; color:#991b1b; }
    .opt.disabled{ cursor:not-allowed; opacity:.8; }

    .overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.4);
      backdrop-filter: blur(4px);
      display:none;
      justify-content:center;
      align-items:center;
      z-index:1000;
      padding:16px;
    }
    .toast-center{
      background:#fff;
      padding:26px;
      border-radius:24px;
      max-width:460px;
      width:100%;
      text-align:center;
      box-shadow:0 25px 50px -12px rgba(0,0,0,0.55);
      animation: pop .28s cubic-bezier(.175,.885,.32,1.275);
    }
    @keyframes pop { from{ transform:scale(.86); opacity:0; } to{ transform:scale(1); opacity:1; } }
    .toast-center h2{ margin:0 0 10px; font-size:24px; font-weight:950; }
    .toast-center p{ color:#334155; line-height:1.55; margin:0 0 16px; }

    #resultScreen{ display:none; text-align:center; }
    .score-badge{
      font-size:56px;
      font-weight:950;
      margin:14px 0;
      display:block;
      color:#0b1220;
    }
    .rank-tag{
      display:inline-block;
      padding:8px 18px;
      border-radius:999px;
      font-weight:950;
      text-transform:uppercase;
      letter-spacing:1px;
      margin-bottom:12px;
    }
    .rank-iniciante{ background:#f1f5f9; color:#475569; }
    .rank-intermediario{ background:#fef3c7; color:#92400e; }
    .rank-avancado{ background:#dcfce7; color:#166534; }

    .warn{
      background:#fff7ed;
      border:1px solid #fed7aa;
      color:#9a3412;
      border-radius:16px;
      padding:14px;
      font-weight:850;
      line-height:1.45;
      margin-top:14px;
      display:none;
    }
    .muted-note{ color:#64748b; font-weight:800; margin-top:8px; }

    @media (max-width:480px){
      .card{ padding:20px; }
      .h1{ font-size:26px; }
      #qTitle{ font-size:20px; }
    }
  </style>
</head>

<body>
  <div class="fall-layer" id="fallLayer" aria-hidden="true"></div>

  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <img src="https://mickaelfelipe01-beep.github.io/Atividades/aulas-informatica-alpha/imagens/Design%20sem%20nome%20(8).png" alt="Logo">
        <div class="brand-text">
          <div class="brand-title">Instituto ALFA</div>
          <div class="brand-tagline">Formando vencedores!</div>
        </div>
      </div>
    </div>

    <div class="card" id="startCard">
      <div class="h1">Atividade de Organiza√ß√£o</div>
      <p class="sub">Teste seus conhecimentos sobre Arquivos e Pastas. Leia com aten√ß√£o e fa√ßa com calma.</p>

      <div class="info-box">
        ‚úÖ <b>Importante:</b> esta atividade permite <b>apenas 1 tentativa</b>.
        A autentica√ß√£o √© feita pelo <b>seu pr√≥prio navegador/dispositivo</b>.
        <small>Se quiser fazer novamente, ser√° necess√°ria a <b>senha do professor</b> para liberar uma nova tentativa.</small>
      </div>

      <input type="text" id="fullName" placeholder="Digite seu nome completo">
      <button class="btn-primary" onclick="startQuiz()">Come√ßar Atividade ‚Üí</button>
      <button class="btn-ghost" onclick="requestReset()">Liberar nova tentativa (senha do professor)</button>

      <div class="warn" id="lockWarn">
        üö´ <b>Tentativa j√° registrada neste navegador.</b><br>
        Para fazer novamente, pe√ßa ao professor a senha para liberar.
      </div>

      <div class="muted-note">Dica: n√£o feche a p√°gina durante a atividade.</div>
    </div>

    <div class="card" id="quizCard" style="display:none">
      <div class="quiz-head">
        <div id="progress">Quest√£o 1 de 10</div>
        <div id="timer">‚è≥ 60:00</div>
      </div>

      <h2 id="qTitle">Carregando...</h2>
      <div class="opts" id="qOpts"></div>
      <button id="btnNext" class="btn-next" onclick="nextQuestion()">Pr√≥xima Quest√£o</button>
    </div>

    <div class="card" id="resultScreen">
      <div id="resultEmoji" style="font-size: 80px;">üèÜ</div>
      <div class="h1" id="resultTitle">Excelente trabalho!</div>
      <p id="resultMsg" class="sub" style="margin-top:8px;">Voc√™ concluiu a atividade com sucesso.</p>

      <span id="rankTag" class="rank-tag rank-iniciante">Iniciante</span>
      <span class="score-badge" id="finalScore">0/10</span>

      <p style="color:#64748b; font-weight:800; margin:0;">
        Sua resposta foi enviada para o professor.
      </p>
    </div>
  </div>

  <div class="overlay" id="feedbackOverlay">
    <div class="toast-center">
      <h2 id="feedbackTitle">Correto!</h2>
      <p id="feedbackText">Explica√ß√£o aqui.</p>
      <button class="btn-primary" onclick="closeFeedback()">Entendi</button>
    </div>
  </div>

  <script>
    /***********************
     * CONFIG
     ***********************/
    const SCRIPT_URL = "COLE_AQUI_SUA_URL_DO_WEB_APP"; // <-- troque
    const ACTIVITY_ID = "ARQUIVOS_2026";
    const TIME_LIMIT_SEC = 3600; // 60 min
    const MIN_SCORE = 6;

    // ATEN√á√ÉO: se o reposit√≥rio for p√∫blico, evite senha real aqui
    const PROFESSOR_PASSWORD = "ALFA@2026";

    const LEAF_ICONS = [
      "https://mickaelfelipe01-beep.github.io/Atividades/aulas-informatica-alpha/imagens/1.png",
      "https://mickaelfelipe01-beep.github.io/Atividades/aulas-informatica-alpha/imagens/2.png",
      "https://mickaelfelipe01-beep.github.io/Atividades/aulas-informatica-alpha/imagens/3.png",
      "https://mickaelfelipe01-beep.github.io/Atividades/aulas-informatica-alpha/imagens/4.png"
    ];

    const QUESTIONS = [
      { q: "O que √© um ARQUIVO no computador?", opts: ["Local para guardar pastas", "Qualquer coisa que cont√©m informa√ß√£o (foto, texto, v√≠deo)", "Programa que apaga tudo", "Pasta secreta"], ans: 1, exp: "Arquivos s√£o as unidades b√°sicas de informa√ß√£o. Pense neles como o 'documento' e a pasta como a 'gaveta'." },
      { q: "O que √© uma PASTA?", opts: ["Local para guardar arquivos e outras pastas", "Um tipo de v√≠deo", "Arquivo de texto", "Instalador do Windows"], ans: 0, exp: "Pastas servem exclusivamente para organizar e agrupar seus arquivos." },
      { q: "Qual extens√£o √© de um documento pronto para leitura (n√£o edit√°vel)?", opts: ["DOCX", "PDF", "JPG", "EXE"], ans: 1, exp: "O PDF √© o formato universal para documentos que n√£o devem ser alterados facilmente." },
      { q: "Qual extens√£o representa um programa ou instalador?", opts: ["MP4", "JPG", "EXE", "PDF"], ans: 2, exp: "EXE vem de 'Executable'. √â o formato que o Windows usa para rodar programas." },
      { q: "Qual atalho √© usado para COPIAR um arquivo?", opts: ["Ctrl+X", "Ctrl+V", "Ctrl+C", "Ctrl+Z"], ans: 2, exp: "Ctrl+C duplica o arquivo, mantendo o original no lugar." },
      { q: "Qual atalho √© usado para MOVER (recortar) um arquivo?", opts: ["Ctrl+C", "Ctrl+X", "Ctrl+V", "Ctrl+A"], ans: 1, exp: "Ctrl+X 'tira' o arquivo do lugar atual para col√°-lo em outro." },
      { q: "O que acontece ao usar Shift + Delete?", opts: ["Vai para a lixeira", "Renomeia o arquivo", "Apaga permanentemente", "Copia o arquivo"], ans: 2, exp: "Cuidado! Shift+Delete pula a lixeira e apaga o arquivo direto do disco." },
      { q: "O que voc√™ N√ÉO deve apagar ao renomear um arquivo?", opts: ["O in√≠cio do nome", "A extens√£o (.jpg, .pdf)", "Os espa√ßos", "Os n√∫meros"], ans: 1, exp: "Se voc√™ remover a extens√£o, o computador n√£o saber√° com qual programa abrir o arquivo." },
      { q: "Onde voc√™ organiza arquivos no Windows?", opts: ["Painel de Controle", "Google Chrome", "Explorador de Arquivos", "Bloco de Notas"], ans: 2, exp: "O Explorador de Arquivos √© a ferramenta principal de gest√£o de dados do sistema." },
      { q: "Na regra 5-5-5, o que significa Backup?", opts: ["Deletar tudo", "C√≥pia de seguran√ßa", "Mudar o nome", "Criar 5 pastas"], ans: 1, exp: "Backup √© ter uma c√≥pia em local seguro para n√£o perder seus dados importantes." }
    ];

    /***********************
     * 1 tentativa por navegador
     ***********************/
    const LOCK_KEY = `quiz_lock_${ACTIVITY_ID}`;
    function isLocked(){ return localStorage.getItem(LOCK_KEY) === "1"; }
    function lockAttempt(){ localStorage.setItem(LOCK_KEY, "1"); }
    function unlockAttempt(){ localStorage.removeItem(LOCK_KEY); }

    /***********************
     * Estado
     ***********************/
    let currentIdx=0, score=0, userName="";
    let startTimeMs=0;
    let timeLeft=TIME_LIMIT_SEC;
    let timerInterval=null;

    let answersForSheet={}; // q1..q10

    function pad2(n){ return String(n).padStart(2,"0"); }
    function formatMMSS(sec){
      const m=Math.floor(sec/60), s=sec%60;
      return `${pad2(m)}:${pad2(s)}`;
    }
    function updateTimerUI(){
      const el=document.getElementById("timer");
      el.textContent=`‚è≥ ${formatMMSS(timeLeft)}`;
      if(timeLeft<=60) el.style.background="#dc2626";
      else if(timeLeft<=300) el.style.background="#b45309";
      else el.style.background="#0f172a";
    }
    function startCountdown(){
      stopCountdown();
      updateTimerUI();
      timerInterval=setInterval(()=>{
        timeLeft--;
        if(timeLeft<0) timeLeft=0;
        updateTimerUI();
        if(timeLeft<=0){
          stopCountdown();
          finishQuiz(true);
        }
      },1000);
    }
    function stopCountdown(){
      if(timerInterval){ clearInterval(timerInterval); timerInterval=null; }
    }

    function startQuiz(){
      if(isLocked()){
        document.getElementById("lockWarn").style.display="block";
        return;
      }
      document.getElementById("lockWarn").style.display="none";

      userName=document.getElementById("fullName").value.trim();
      if(userName.length<5){ alert("Por favor, digite seu nome completo."); return; }

      currentIdx=0; score=0; answersForSheet={};
      startTimeMs=Date.now();
      timeLeft=TIME_LIMIT_SEC;
      startCountdown();

      document.getElementById("startCard").style.display="none";
      document.getElementById("quizCard").style.display="block";
      document.getElementById("resultScreen").style.display="none";

      renderQuestion();
    }

    function requestReset(){
      const pass=prompt("Senha do professor para liberar nova tentativa:");
      if(pass===null) return;
      if(pass===PROFESSOR_PASSWORD){
        unlockAttempt();
        alert("Nova tentativa liberada ‚úÖ");
        document.getElementById("lockWarn").style.display="none";
      } else {
        alert("Senha incorreta ‚ùå");
      }
    }

    function renderQuestion(){
      const q=QUESTIONS[currentIdx];
      document.getElementById("progress").innerText=`Quest√£o ${currentIdx+1} de ${QUESTIONS.length}`;
      document.getElementById("qTitle").innerText=q.q;

      const optsDiv=document.getElementById("qOpts");
      optsDiv.innerHTML="";

      q.opts.forEach((opt,i)=>{
        const btn=document.createElement("div");
        btn.className="opt";
        btn.innerText=opt;
        btn.onclick=()=>checkAnswer(i);
        optsDiv.appendChild(btn);
      });

      document.getElementById("btnNext").style.display="none";
    }

    function checkAnswer(i){
      const q=QUESTIONS[currentIdx];
      const opts=document.querySelectorAll(".opt");
      if(opts.length && opts[0].classList.contains("disabled")) return;

      const isCorrect=(i===q.ans);
      if(isCorrect) score++;

      const qKey="q"+(currentIdx+1);
      answersForSheet[qKey]=q.opts[i];

      opts.forEach((opt,idx)=>{
        opt.classList.add("disabled");
        if(idx===q.ans) opt.classList.add("correct");
        if(idx===i && !isCorrect) opt.classList.add("wrong");
      });

      document.getElementById("feedbackOverlay").style.display="flex";
      document.getElementById("feedbackTitle").innerText=isCorrect ? "‚úÖ Muito bem!" : "‚ùå Quase l√°...";
      document.getElementById("feedbackTitle").style.color=isCorrect ? "var(--success)" : "var(--danger)";
      document.getElementById("feedbackText").innerHTML=
        `<b>A resposta correta era:</b> ${q.opts[q.ans]}<br><br>${q.exp}`;

      document.getElementById("btnNext").style.display="block";
    }

    function closeFeedback(){
      document.getElementById("feedbackOverlay").style.display="none";
      if(currentIdx===QUESTIONS.length-1) finishQuiz(false);
    }

    function nextQuestion(){
      currentIdx++;
      if(currentIdx>=QUESTIONS.length) return finishQuiz(false);
      renderQuestion();
    }

    async function finishQuiz(autoByTime){
      stopCountdown();
      lockAttempt();

      document.getElementById("quizCard").style.display="none";
      document.getElementById("resultScreen").style.display="block";

      let rank="", title="", msg="", emoji="";
      if(score>=9){
        rank="Avan√ßado"; title="Incr√≠vel!"; msg="Voc√™ domina o assunto perfeitamente!"; emoji="üèÜ";
      } else if(score>=MIN_SCORE){
        rank="Intermedi√°rio"; title="Parab√©ns!"; msg="Voc√™ atingiu uma boa nota. Continue assim!"; emoji="ü•à";
      } else {
        rank="Iniciante"; title="N√£o desanime!"; msg="Faltou pouco. Revise o conte√∫do e voc√™ melhora na pr√≥xima!"; emoji="üìö";
      }
      if(autoByTime) msg="‚è∞ O tempo acabou, mas sua tentativa foi enviada automaticamente.";

      document.getElementById("finalScore").innerText=`${score}/${QUESTIONS.length}`;
      document.getElementById("rankTag").innerText=rank;
      document.getElementById("rankTag").className="rank-tag " + (
        rank==="Avan√ßado" ? "rank-avancado" : rank==="Intermedi√°rio" ? "rank-intermediario" : "rank-iniciante"
      );
      document.getElementById("resultTitle").innerText=title;
      document.getElementById("resultMsg").innerText=msg;
      document.getElementById("resultEmoji").innerText=emoji;

      const payload = {
        action:"submit",
        activityId: ACTIVITY_ID,
        name: userName,
        startedAt: startTimeMs,
        submittedAt: Date.now(),
        remainingSeconds: timeLeft,
        scoreMC: score,
        levelMC: rank,
        answers: answersForSheet
      };

      try{
        await fetch(SCRIPT_URL, { method:"POST", mode:"no-cors", body: JSON.stringify(payload) });
      }catch(e){
        console.log("Erro ao enviar:", e);
      }
    }

    // Folhas
    function rand(min,max){ return Math.random()*(max-min)+min; }
    function pick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }
    function spawnLeaves(){
      const layer=document.getElementById("fallLayer");
      layer.innerHTML="";
      const count=26;
      for(let i=0;i<count;i++){
        const el=document.createElement("div");
        el.className="leaf";
        const size=Math.floor(rand(16,26));
        el.style.width=size+"px";
        el.style.height=size+"px";
        el.style.left=rand(0,100)+"vw";
        el.style.opacity=rand(0.45,0.85);
        el.style.backgroundImage=`url('${pick(LEAF_ICONS)}')`;
        el.style.animationDuration=`${rand(8,16)}s, ${rand(2.6,5.0)}s`;
        el.style.animationDelay=`-${rand(0,8)}s, 0s`;
        layer.appendChild(el);
      }
    }

    window.addEventListener("load", ()=>{
      spawnLeaves();
      updateTimerUI();
      document.getElementById("lockWarn").style.display = isLocked() ? "block" : "none";
    });
  </script>
</body>
</html>
